"use strict";(self.webpackChunkpd_pro_angularcli=self.webpackChunkpd_pro_angularcli||[]).push([[347],{6347:function(T,m,s){s.r(m),s.d(m,{DecisionAdminModule:function(){return M}});var g=s(43144),v=s(15671),f=s(69808),b=s(52297),C=s(35226),d=s.n(C),e=s(91891),D=s(88492),a=s(93075);function A(n,c){if(1&n){var i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",16)(10,"button",9),e.NdJ("click",function(){var r=e.CHM(i).$implicit;return e.oxw().modifierDecision(r)}),e._UZ(11,"i",17),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){var r=e.CHM(i).$implicit;return e.oxw().supprimerDecision(r)}),e._UZ(13,"i",18),e.qZA()()()}if(2&n){var t=c.$implicit;e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.likes),e.xp6(2),e.Oqu(t.dislikes)}}function x(n,c){1&n&&(e.TgZ(0,"tr")(1,"td",19),e._uU(2,"Aucune d\xe9cision trouv\xe9e"),e.qZA()())}var _=[{path:"",children:[{path:"",component:function(){var n=function(){function c(i){(0,v.Z)(this,c),this.decisionService=i,this.decisions=[],this.searchTerm=""}return(0,g.Z)(c,[{key:"ngOnInit",value:function(){this.getDecisions()}},{key:"getDecisions",value:function(){var t=this;this.decisionService.getDecisionsWithLikesAndDislikes().subscribe(function(o){t.decisions=o.decisions},function(o){console.error("Une erreur s'est produite lors de la r\xe9cup\xe9ration des d\xe9cisions : ",o)})}},{key:"ajouterDecision",value:function(){var t=this;d().fire({title:"Ajouter une d\xe9cision",html:'<input id="title" class="swal2-input" placeholder="Titre"><input id="description" class="swal2-input" placeholder="Description">',showCancelButton:!0,confirmButtonText:"Ajouter",cancelButtonText:"Annuler",preConfirm:function(){var l=document.getElementById("title"),r=document.getElementById("description");l&&r&&t.decisionService.addDecision({id:0,title:l.value,description:r.value,likes_count:0,dislikes_count:0}).subscribe(function(p){t.getDecisions(),d().fire("Ajout\xe9!","La d\xe9cision a \xe9t\xe9 ajout\xe9e avec succ\xe8s.","success")},function(p){console.error("Une erreur s'est produite lors de l'ajout de la d\xe9cision : ",p),d().fire("Erreur!","Une erreur s'est produite lors de l'ajout de la d\xe9cision.","error")})}})}},{key:"modifierDecision",value:function(t){var o=this;d().fire({title:"Modifier la d\xe9cision",html:'<input id="title" class="swal2-input" placeholder="Titre" value="'+t.title+'"><input id="description" class="swal2-input" placeholder="Description" value="'+t.description+'">',showCancelButton:!0,confirmButtonText:"Modifier",cancelButtonText:"Annuler",preConfirm:function(){var r=document.getElementById("title"),u=document.getElementById("description");r&&u&&o.decisionService.updateDecision(t.id,{id:t.id,title:r.value,description:u.value,likes_count:t.likes_count,dislikes_count:t.dislikes_count}).subscribe(function(h){o.getDecisions(),d().fire("Modifi\xe9!","La d\xe9cision a \xe9t\xe9 modifi\xe9e avec succ\xe8s.","success")},function(h){console.error("Une erreur s'est produite lors de la modification de la d\xe9cision : ",h),d().fire("Erreur!","Une erreur s'est produite lors de la modification de la d\xe9cision.","error")})}})}},{key:"supprimerDecision",value:function(t){var o=this;d().fire({title:"\xcates-vous s\xfbr?",text:"Vous ne pourrez pas r\xe9cup\xe9rer cette d\xe9cision!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimez-le!",cancelButtonText:"Annuler"}).then(function(l){l.isConfirmed&&o.decisionService.deleteDecision(t.id).subscribe(function(r){o.getDecisions(),d().fire("Supprim\xe9!","Votre d\xe9cision a \xe9t\xe9 supprim\xe9e.","success")},function(r){console.error("Une erreur s'est produite lors de la suppression de la d\xe9cision : ",r),d().fire("Erreur!","Une erreur s'est produite lors de la suppression de la d\xe9cision.","error")})})}},{key:"filteredDecisions",value:function(){var t=this;return this.decisions.filter(function(o){return o.title.toLowerCase().includes(t.searchTerm.toLowerCase())})}}]),c}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(D.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-decision-admin"]],decls:35,vars:3,consts:[[1,"container-xl","mt-5","mb-4"],[1,"table-responsive"],[1,"table-wrapper","mt-5"],[1,"table","table-bordered","shadow","rounded"],["colspan","8"],[1,"table-title","bg-custom-blue","text-light","p-4","rounded-top","d-flex","justify-content-between","align-items-center"],[1,"m-0"],[1,"d-flex","align-items-center"],["type","text","placeholder","Search by title",1,"form-control","w-50","mr-2",3,"ngModel","ngModelChange"],[1,"bouton",3,"click"],[1,"fas","fa-plus-circle"],[1,"ml-2"],[1,"table","table-striped","table-hover"],[1,"bg-white","text-dark"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-right"],[1,"fa","fa-edit"],[1,"fa","fa-times"],["colspan","6",1,"text-center"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"tbody")(5,"tr")(6,"td",4)(7,"div",5)(8,"h4",6)(9,"b"),e._uU(10,"List of Decisions"),e.qZA()(),e.TgZ(11,"div",7)(12,"input",8),e.NdJ("ngModelChange",function(l){return t.searchTerm=l}),e.qZA(),e.TgZ(13,"button",9),e.NdJ("click",function(){return t.ajouterDecision()}),e._UZ(14,"i",10),e.TgZ(15,"span",11),e._uU(16,"ADD"),e.qZA()()()()()(),e.TgZ(17,"tr")(18,"td")(19,"table",12)(20,"thead",13)(21,"tr")(22,"th"),e._uU(23,"Title"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Description"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Likes"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Dislikes"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Actions"),e.qZA()()(),e.TgZ(32,"tbody"),e.YNc(33,A,14,4,"tr",14),e.YNc(34,x,3,0,"tr",15),e.qZA()()()()()()()()()),2&i&&(e.xp6(12),e.Q6J("ngModel",t.searchTerm),e.xp6(21),e.Q6J("ngForOf",t.filteredDecisions()),e.xp6(1),e.Q6J("ngIf",0==t.filteredDecisions().length))},directives:[a.Fj,a.JJ,a.On,f.sg,f.O5],styles:[".table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.table-wrapper[_ngcontent-%COMP%]{margin-top:20px}.table-bordered[_ngcontent-%COMP%]{border:1px solid #003366}.custom-width[_ngcontent-%COMP%]{width:100%}.table-title[_ngcontent-%COMP%]{background-color:#036;color:#fff;padding:20px;border-radius:10px}.table-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}.table-title[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #003366;border-radius:5px}.table-title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#0069d9;color:#fff;border:none;border-radius:5px}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#f5f5f5}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.btn-table[_ngcontent-%COMP%]{color:#fff;border:none;border-radius:5px}.btn-table[_ngcontent-%COMP%]:hover{opacity:.8}.bouton[_ngcontent-%COMP%]{display:inline-block;background-color:#719fee;border-radius:5px;border:none;color:#fff;text-align:center;font-size:16px;padding:5px 10px;width:auto;cursor:pointer}.bouton[_ngcontent-%COMP%] + .bouton[_ngcontent-%COMP%]{margin-left:10px}"]}),n}()}]}],M=function(){var n=(0,g.Z)(function c(){(0,v.Z)(this,c)});return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[f.ez,b.Bz.forChild(_),a.u5]]}),n}()}}]);